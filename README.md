# Jetson TX2 Lane Detection
Lane detection for the Nvidia Jetson TX2 using OpenCV4Tegra

## Table of Contents

1. [Dependencies](#dependencies)
2. [Usage](#usage)
3. [Configurations](#configurations)

## Dependencies
Requires a Jetson TX2 running L4T 28.1 (JetPack 3.1)

Use install_depend.sh to install the following dependencies:
* GNU Scientific Library (libgsl-dev): used for polynomial curve fitting
* Libconfig

## Usage
#### Run all scripts from lane_detection directory
```bash
    ./build.sh          #builds all files
    ./build.sh jetson   #build for the JetsonTX2 (With GPU Support)
    ./build.sh clean    #removes all files generated by build.sh
```

```bash
    ./install_dependencies.sh   #installs all dependencies
```

```bash
    bin/detect.cu       #runs executable using config.txt configurations
```

## Configurations
#### Modify detect.cfg to change configuration settings
* video.file: path to video file from execution directory
* lane.n: number of parameters of polynomial that defines lanes
* lane.filter: filter for curve to remove jitter lane
* controller.k: Proportional parameter for wheel angle controller
* serial.port: port for teensy 
* serial.baud: baud for teensy
* detector.threshold: pixel threshold for searching for lane
* detector.start.left: percentage of width of frame to start looking for left lane
* detector.start.right: percentage of width of frame to start looking for right lane
* detector.row_step: stride for stepping through rows
* detector.col_step: stride for stepping through columns
